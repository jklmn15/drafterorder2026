<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Coaches ‚Äî Stock Reveal</title>

  <!-- Bootstrap + Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">

  <!-- (Optional) Bootstrap JS (not required for this page, but handy) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" defer></script>

  <style>
    :root{
      --bg0:#050816;
      --bg1:#060b1f;
      --card:#0b1330cc;
      --stroke:rgba(255,255,255,.08);
      --text:rgba(255,255,255,.92);
      --muted:rgba(255,255,255,.65);
      --accent:#45d4ff;
      --accent2:#7c4dff;
      --shadow: 0 10px 40px rgba(0,0,0,.35);
      --radius: 20px;
    }

    body{
      background:
        radial-gradient(1200px 600px at 20% 0%, rgba(124,77,255,.25), transparent 55%),
        radial-gradient(900px 500px at 85% 10%, rgba(69,212,255,.18), transparent 55%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      color: var(--text);
      min-height: 100vh;
      overflow-x: hidden;
    }

    .glass{
      background: var(--card);
      border: 1px solid var(--stroke);
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
      border-radius: var(--radius);
    }

    .hero{
      position: relative;
      padding: 28px 0 8px;
    }

    .hero-badge{
      display: inline-flex;
      align-items: center;
      gap: .5rem;
      padding: .45rem .75rem;
      border-radius: 999px;
      border: 1px solid var(--stroke);
      background: rgba(255,255,255,.04);
      color: var(--muted);
      font-weight: 700;
      letter-spacing: .2px;
    }

    .hero-title{
      font-weight: 900;
      letter-spacing: -0.6px;
      line-height: 1.05;
      margin-top: 14px;
      margin-bottom: 10px;
    }

    .hero-sub{
      color: var(--muted);
      max-width: 75ch;
    }

    .hero-highlight{
      background: linear-gradient(90deg,var(--accent),var(--accent2));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .divider{ height: 1px; background: var(--stroke); margin: 12px 0; }

    /* Flip Tiles */
    .tile{
      perspective: 1400px;
    }

    .flip{
      position: relative;
      width: 100%;
      transform-style: preserve-3d;
      transition: transform .62s cubic-bezier(.2,.8,.2,1);
      border-radius: var(--radius);
      min-height: 180px; /* taller base */
    }

    /* even taller on small screens for paragraphs */
    @media (max-width: 576px){
      .flip{ min-height: 240px; }
    }

    .tile.is-flipped .flip{ transform: rotateY(180deg); }

    .face{
      position:absolute;
      inset:0;
      backface-visibility: hidden;
      border-radius: var(--radius);
      border: 1px solid var(--stroke);
      overflow:hidden;
    }

    .front{
      background: linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.03));
    }
    .front::before{
      content:"";
      position:absolute;
      inset:-70px;
      background:
        radial-gradient(650px 320px at 20% 10%, rgba(124,77,255,.20), rgba(124,77,255,0) 60%),
        radial-gradient(650px 320px at 90% 40%, rgba(69,212,255,.16), rgba(69,212,255,0) 60%);
      pointer-events:none;
    }

    .back{
      transform: rotateY(180deg);
      background: linear-gradient(180deg, rgba(255,255,255,.09), rgba(255,255,255,.04));
    }
    .back::before{
      content:"";
      position:absolute;
      inset:-80px;
      background: radial-gradient(900px 380px at 50% 0%, rgba(255,255,255,.10), rgba(255,255,255,0) 60%);
      pointer-events:none;
    }

    .tile-btn{
      all: unset;
      display:block;
      width:100%;
      cursor:pointer;
    }
    .tile-btn:focus-visible .flip{
      outline: 2px solid rgba(69,212,255,.45);
      outline-offset: 3px;
    }

    .pill{
      border-radius: 999px;
      padding: .45rem .75rem;
      font-weight: 800;
      border: 1px solid var(--stroke);
      background: rgba(255,255,255,.04);
      display: inline-flex;
      align-items: center;
      gap: .55rem;
      white-space: nowrap;
      color: rgba(255,255,255,.86);
    }

    .coach-name{
      font-weight: 900;
      letter-spacing: -.2px;
    }

    .mono{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      letter-spacing: .8px;
    }

    .logoImg{
      width: 100%;
      max-width: 260px;
      max-height: 110px;
      object-fit: contain;
      border-radius: 14px;
      background: rgba(255,255,255,.92);
      padding: 10px 14px;
      border: 1px solid rgba(255,255,255,.14);
      box-shadow: 0 10px 28px rgba(0,0,0,.28);
    }

    /* Let the back face grow if paragraph is long */
    .backContent{
      min-height: 180px;
    }
    @media (max-width: 576px){
      .backContent{ min-height: 240px; }
    }

    .joke{
      color: rgba(255,255,255,.84);
      line-height: 1.45;
      margin: 0;
      font-size: 0.98rem;
    }

    .small-muted{ color: var(--muted); }

    /* Nice stacked spacing */
    .stack-gap{ gap: 14px; }

    /* Mobile badge tightening similar to your other page */
    @media (max-width: 576px){
      .hero-badge{
        width: 100%;
        justify-content: space-between;
        gap: .5rem;
        padding: .4rem .6rem;
        font-size: .92rem;
        line-height: 1.1;
      }
      .hero-badge i{ display:none; }
      .hero-badge .badge-text{
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        max-width: 70%;
      }
    }
  </style>
</head>

<body>
  <div class="container py-4">
    <!-- HERO -->
    <div class="hero">
      <div class="d-flex flex-wrap justify-content-between align-items-start gap-3">
        <div>
          <div class="hero-badge">
            <i class="bi bi-stars"></i>
            <span class="badge-text">ASX-powered reveal night</span>
            <span class="small-muted">‚Ä¢</span>
            <span>8 coaches</span>
          </div>

          <h1 class="hero-title display-6 mb-2">
            üèâ Coaches Stock Reveal
            <span class="hero-highlight d-block">The Market Decides</span>
          </h1>

          <p class="hero-sub mb-0">
            Click your tile to reveal your randomly allocated stock. Tiles stay flipped on this device.
          </p>
        </div>

        <div class="d-flex gap-2 align-items-start">
          <button class="btn btn-outline-light btn-sm px-3 glass" id="resetBtn" type="button">
            <i class="bi bi-arrow-counterclockwise me-1"></i> Reset
          </button>
          <button class="btn btn-outline-info btn-sm px-3 glass" id="revealAllBtn" type="button">
            <i class="bi bi-eye me-1"></i> Reveal all
          </button>
        </div>
      </div>
    </div>

    <div class="divider"></div>

    <!-- TILES (stacked full width) -->
    <div class="d-flex flex-column stack-gap" id="stack" aria-label="Coach reveal tiles"></div>

    <div class="text-center mt-4 small-muted">
      Logos load from <span class="mono">images/&lt;CODE&gt;.jpg</span> (you‚Äôll supply the files).
    </div>
  </div>

  <script>
    // ORDER EXACTLY AS REQUESTED (top to bottom)
    const tiles = [
      {
        coach: "Jeremy",
        company: "CSL",
        code: "CSL",
        sector: "Biotech / Healthcare",
        joke: "CSL lives in labs, pipelines, and long-term gains. If your season starts shaky, just call it ‚ÄúR&D‚Äù‚Äîthen emerge in finals like a breakthrough therapy nobody saw coming."
      },
      {
        coach: "Callum",
        company: "BHP",
        code: "BHP",
        sector: "Mining",
        joke: "BHP digs deep and moves mountains. If injuries hit, you‚Äôll simply open a new pit, extract value from the bench, and still ship a win by bulk carrier."
      },
      {
        coach: "Darrell",
        company: "Westpac",
        code: "WBC",
        sector: "Banking",
        joke: "Westpac loves a steady margin and a calm press conference. Expect conservative selections, safe captains, and a season plan so risk-managed it needs three approvals just to trade a ruck."
      },
      {
        coach: "Damian",
        company: "Wesfarmers",
        code: "WES",
        sector: "Retail / Industrial",
        joke: "Wesfarmers owns half the aisle and still finds a new checkout lane. Your fate: diversified‚Äîwhen one line flops, another quietly carries you to the top four like a suspiciously effective loyalty program."
      },
      {
        coach: "Chris H",
        company: "CommBank",
        code: "CBA",
        sector: "Banking",
        joke: "CommBank is the big boss of the ASX‚Äîcomfortable, powerful, slightly smug. You‚Äôll start favourites, project confidence, and if things go wrong you‚Äôll simply raise the interest rate on your opponents‚Äô hopes."
      },
      {
        coach: "James",
        company: "Macquarie",
        code: "MQG",
        sector: "Investment Banking",
        joke: "Macquarie turns spreadsheets into sorcery. Your season will feature bold, confusing trades that look illegal‚Äîuntil finals, when everyone realises you‚Äôve engineered the ladder like a toll road."
      },
      {
        coach: "Tom",
        company: "NAB",
        code: "NAB",
        sector: "Banking",
        joke: "NAB is dependable and allergic to chaos. Translation: you‚Äôll bank points every week, never panic, and grind out wins so steady they should come with a repayment schedule."
      },
      {
        coach: "Ryan",
        company: "Rio Tinto",
        code: "RIO",
        sector: "Mining",
        joke: "Rio runs global operations with ruthless efficiency. Expect you to mine undervalued rookies, export points at scale, and leave opponents staring into the abyss like they just checked commodity prices."
      }
    ];

    // Logo path: images/<CODE>.jpg  (you will supply)
    const logoPath = (code) => `images/${code}.jpg`;

    // Persistence
    const KEY = "coach_stock_flip_bootstrap_v1";
    const getState = () => {
      try { return JSON.parse(localStorage.getItem(KEY) || "{}"); } catch { return {}; }
    };
    const setState = (obj) => localStorage.setItem(KEY, JSON.stringify(obj));

    const stack = document.getElementById("stack");
    const resetBtn = document.getElementById("resetBtn");
    const revealAllBtn = document.getElementById("revealAllBtn");

    const initials = (name) => (name||"?").split(" ").map(w=>w[0]).join("").slice(0,2).toUpperCase();

    function render(){
      const state = getState();
      stack.innerHTML = "";

      tiles.forEach((t, idx) => {
        const flipped = !!state[t.coach];

        const tile = document.createElement("div");
        tile.className = "tile";

        if(flipped) tile.classList.add("is-flipped");

        const btn = document.createElement("button");
        btn.type = "button";
        btn.className = "tile-btn";
        btn.setAttribute("aria-label", `${t.coach} stock reveal tile`);
        btn.setAttribute("aria-pressed", flipped ? "true" : "false");

        const flip = document.createElement("div");
        flip.className = "flip glass";

        // FRONT
        const front = document.createElement("div");
        front.className = "face front";

        front.innerHTML = `
          <div class="h-100 d-flex align-items-center">
            <div class="p-3 p-sm-4 w-100 d-flex align-items-center justify-content-between gap-3">
              <div class="min-w-0">
                <div class="coach-name h4 mb-2">${t.coach}</div>
                <div class="d-flex flex-wrap gap-2 align-items-center">
                  <span class="pill">
                    <i class="bi bi-hand-index-thumb me-1"></i>
                    ${flipped ? `Revealed: <span class="ms-1 mono">${t.code}</span>` : "Click to reveal"}
                  </span>
                  <span class="small-muted fw-semibold">${t.sector}</span>
                </div>
              </div>

              <div class="d-flex flex-column align-items-end gap-2">
                <div class="pill mono">${flipped ? t.code : initials(t.coach)}</div>
                <div class="small-muted fw-semibold">${flipped ? t.company : "Hidden"}</div>
              </div>
            </div>
          </div>
        `;

        // BACK
        const back = document.createElement("div");
        back.className = "face back";

        back.innerHTML = `
          <div class="backContent h-100">
            <div class="p-3 p-sm-4 h-100">
              <div class="row g-3 align-items-center h-100">
                <div class="col-12 col-md-8">
                  <div class="d-flex flex-wrap align-items-baseline gap-2 mb-2">
                    <div class="h5 mb-0 fw-black" style="font-weight:900">${t.company}</div>
                    <span class="pill mono">ASX: ${t.code}</span>
                  </div>
                  <p class="joke">${t.joke}</p>
                </div>

                <div class="col-12 col-md-4 d-flex justify-content-md-end">
                  <img class="logoImg" src="${logoPath(t.code)}" alt="${t.company} logo"
                       onerror="this.style.display='none'; this.insertAdjacentHTML('afterend',
                       '<div class=&quot;glass p-3 text-center w-100&quot; style=&quot;border-radius:16px;border:1px dashed rgba(255,255,255,.18);background:rgba(0,0,0,.12)&quot;><div class=&quot;mono fw-bold&quot; style=&quot;font-size:28px&quot;>${t.code}</div><div class=&quot;small-muted fw-semibold mt-1&quot;>${t.company}</div><div class=&quot;small-muted mt-2&quot;>Missing: images/${t.code}.jpg</div></div>');">
                </div>
              </div>
            </div>
          </div>
        `;

        flip.appendChild(front);
        flip.appendChild(back);
        btn.appendChild(flip);
        tile.appendChild(btn);

        const toggle = () => {
          const s = getState();
          s[t.coach] = !s[t.coach];
          setState(s);
          render();
        };

        btn.addEventListener("click", toggle);
        btn.addEventListener("keydown", (e) => {
          if(e.key === "Enter" || e.key === " "){ e.preventDefault(); toggle(); }
        });

        stack.appendChild(tile);
      });
    }

    resetBtn.addEventListener("click", () => {
      localStorage.removeItem(KEY);
      render();
    });

    revealAllBtn.addEventListener("click", () => {
      const s = {};
      tiles.forEach(t => s[t.coach] = true);
      setState(s);
      render();
    });

    render();
  </script>
</body>
</html>
