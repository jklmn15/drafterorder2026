<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Coaches ‚Äî Stock Reveal</title>

  <!-- Bootstrap + Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" defer></script>

  <style>
    :root{
      --bg0:#050816;
      --bg1:#060b1f;
      --card:#0b1330cc;
      --stroke:rgba(255,255,255,.09);
      --text:rgba(255,255,255,.92);
      --muted:rgba(255,255,255,.65);
      --accent:#45d4ff;
      --accent2:#7c4dff;
      --shadow: 0 10px 40px rgba(0,0,0,.35);
      --radius: 20px;
    }

    body{
      background:
        radial-gradient(1200px 600px at 20% 0%, rgba(124,77,255,.25), transparent 55%),
        radial-gradient(900px 500px at 85% 10%, rgba(69,212,255,.18), transparent 55%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      color: var(--text);
      min-height: 100vh;
      overflow-x: hidden;
    }

    .glass{
      background: var(--card);
      border: 1px solid var(--stroke);
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-radius: var(--radius);
    }

    .hero{
      position: relative;
      padding: 28px 0 8px;
    }

    .hero-badge{
      display: inline-flex;
      align-items: center;
      gap: .5rem;
      padding: .45rem .75rem;
      border-radius: 999px;
      border: 1px solid var(--stroke);
      background: rgba(255,255,255,.04);
      color: var(--muted);
      font-weight: 700;
      letter-spacing: .2px;
    }

    .hero-title{
      font-weight: 900;
      letter-spacing: -0.6px;
      line-height: 1.05;
      margin-top: 14px;
      margin-bottom: 10px;
    }

    .hero-sub{
      color: var(--muted);
      max-width: 75ch;
    }

    .hero-highlight{
      background: linear-gradient(90deg,var(--accent),var(--accent2));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .divider{ height: 1px; background: var(--stroke); margin: 12px 0; }

    .stack-gap{ gap: 14px; }

    .pill{
      border-radius: 999px;
      padding: .45rem .75rem;
      font-weight: 800;
      border: 1px solid var(--stroke);
      background: rgba(255,255,255,.04);
      display: inline-flex;
      align-items: center;
      gap: .55rem;
      white-space: nowrap;
      color: rgba(255,255,255,.86);
    }

    .mono{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      letter-spacing: .6px;
    }

    .coach-name{ font-weight: 900; letter-spacing: -.2px; }
    .small-muted{ color: var(--muted); }

    /* Tile */
    .tile{
      position: relative;
      border-radius: var(--radius);
      border: 1px solid var(--stroke);
      overflow: hidden;
    }

    .tile-inner{
      position: relative;
      border-radius: var(--radius);
    }



    /* Overlay: frosted glass that fades away on reveal */
    .overlay{
      position: absolute;
      inset: 0;
      border-radius: var(--radius);
      cursor: pointer;
      user-select: none;
    
      /* MUCH more opaque */
      background:
        linear-gradient(160deg,
          rgba(12,18,45,.96),
          rgba(18,26,70,.94)
        );
    
      border: 1px solid rgba(255,255,255,.12);
    
      overflow: hidden;
      transition: opacity .45s ease, transform .45s ease;
      opacity: 1;
    }


    .overlay::before{
      content:"";
      position:absolute;
      inset:-70px;
      background:
        radial-gradient(650px 320px at 20% 10%, rgba(124,77,255,.20), rgba(124,77,255,0) 60%),
        radial-gradient(650px 320px at 90% 40%, rgba(69,212,255,.16), rgba(69,212,255,0) 60%);
      pointer-events:none;
      opacity:.95;
    }

    .overlay-content{
      position: relative;
      z-index: 2;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 14px;
      padding: 16px;
    }
    @media (min-width: 576px){
      .overlay-content{ padding: 18px 20px; }
    }

    /* Revealed state: overlay fades to (nearly) see-through */
    .tile.revealed .overlay{
      opacity: 0;
      transform: scale(1.02);
      pointer-events: none;
    }


    /* Optional: if you want it fully invisible on reveal, change to opacity: 0 */
    /* .tile.revealed .overlay{ opacity: 0; } */

    /* Make the under content feel like it "comes alive" when revealed */
    .under{
      position: relative;
      padding: 16px;
      opacity: 0;
      transition: opacity .45s ease, transform .45s ease;
      transform: translateY(6px);
    }
    @media (min-width: 576px){
      .under{ padding: 18px 20px; }
    }
    .tile.revealed .under{
      opacity: 1;
      transform: translateY(0);
    }



    .logoImg{
      width: 100%;
      max-width: 260px;
      max-height: 110px;
      object-fit: contain;
      border-radius: 14px;
      background: rgba(255,255,255,.92);
      padding: 10px 14px;
      border: 1px solid rgba(255,255,255,.14);
      box-shadow: 0 10px 28px rgba(0,0,0,.28);
      display: block;
    }

    .joke{
      color: rgba(255,255,255,.84);
      line-height: 1.45;
      margin: 0;
      font-size: 0.98rem;
    }

    /* Make it feel tap-friendly */
    .tile-btn{
      all: unset;
      display: block;
      width: 100%;
    }
    .tile-btn:focus-visible .tile{
      outline: 2px solid rgba(69,212,255,.45);
      outline-offset: 3px;
      border-radius: var(--radius);
    }
  </style>
</head>

<body>
  <div class="container py-4">
    <!-- HERO -->
    <div class="hero">
      <div class="d-flex flex-wrap justify-content-between align-items-start gap-3">
        <div>
          <div class="hero-badge">
            <i class="bi bi-stars"></i>
            <span class="badge-text">ASX-powered reveal night</span>
            <span class="small-muted">‚Ä¢</span>
            <span>8 coaches</span>
          </div>

          <h1 class="hero-title display-6 mb-2">
            üèâ Coaches Stock Reveal
            <span class="hero-highlight d-block">The Market Decides</span>
          </h1>

          <p class="hero-sub mb-0">
            These eight Australian heavyweight stocks were chosen by ChatGPT and then randomly allocated to the 8 coaches.
          </p>
        </div>

        <div class="d-flex gap-2 align-items-start">
          <button class="btn btn-outline-light btn-sm px-3 glass" id="resetBtn" type="button">
            <i class="bi bi-arrow-counterclockwise me-1"></i> Reset
          </button>
          <button class="btn btn-outline-info btn-sm px-3 glass" id="revealAllBtn" type="button">
            <i class="bi bi-eye me-1"></i> Reveal all
          </button>
        </div>
      </div>
    </div>

    <div class="divider"></div>

    <!-- TILES -->
    <div class="d-flex flex-column stack-gap" id="stack" aria-label="Coach reveal tiles"></div>

    <div class="text-center mt-4 small-muted">
      Made by Jeremy and ChatGPT
    </div>
  </div>

  <script>
    const tiles = [
      {
        coach: "Jeremy",
        company: "CSL",
        code: "CSL",
        sector: "Biotech / Healthcare",
        img: "images/CSL.jpg",
        joke: "Like CSL, you operate in labs and long timelines. You‚Äôll disappear mid-season, quietly engineer something elite, then emerge in finals like a breakthrough nobody saw coming. The upside: clinical and deadly. The downside: you‚Äôll overanalyse every trade like it needs FDA approval."
      },
      {
        coach: "Callum",
        company: "BHP",
        code: "BHP",
        sector: "Mining",
        img: "images/BHP.jpg",
        joke: "You‚Äôre aligned with BHP ‚Äî which means size, scale, and zero subtlety. You won‚Äôt finesse wins, you‚Äôll excavate them. The upside: raw output and brute depth. The downside: when form dips you‚Äôll blame ‚Äòglobal conditions‚Äô instead of your terrible drafting."
      },
      {
        coach: "Darrell",
        company: "Westpac",
        code: "WBC",
        sector: "Banking",
        img: "images/WBC.jpg",
        joke: "Like Westpac, you‚Äôre Big Four energy without the personality. Safe picks. Predictable captains. Margins over magic. The upside: steady points every week. The downside: your season will have the excitement level of a term deposit."
      },
      {
        coach: "Damian",
        company: "Wesfarmers",
        code: "WES",
        sector: "Retail / Industrial",
        img: "images/WES.jpg",
        joke: "You‚Äôre aligned with Wesfarmers ‚Äî the conglomerate that owns half your weekend. Diversified. Resilient. Mildly everywhere. The upside: when one line fails, another carries you. The downside: you‚Äôll treat trades like a Bunnings project ‚Äî confident, loud, and somehow still wrong."
      },
      {
        coach: "Chris H",
        company: "CommBank",
        code: "CBA",
        sector: "Banking",
        img: "images/CBA.jpg",
        joke: "Like CommBank, you start the season as the obvious favourite. Big balance sheet. Big brand. Big ego. The upside: you‚Äôll bank wins early. The downside: you‚Äôll act like the ladder owes you dividends and charge emotional interest when it doesn‚Äôt."
      },
      {
        coach: "James",
        company: "Macquarie",
        code: "MQG",
        sector: "Investment Banking",
        img: "images/MQG.jpg",
        joke: "You‚Äôre aligned with Macquarie ‚Äî Australia‚Äôs deal factory. Expect bold trades, complex strategies, and suspiciously well-timed moves. The upside: you‚Äôll profit from chaos. The downside: nobody will understand what you‚Äôre doing‚Ä¶ including you."
      },
      {
        coach: "Tom",
        company: "NAB",
        code: "NAB",
        sector: "Banking",
        img: "images/NAB.jpg",
        joke: "Like NAB, you‚Äôre solid, structured, and allergic to drama. The upside: consistent weekly returns. The downside: your ceiling is capped by policy ‚Äî you‚Äôll refuse risks so hard you‚Äôll miss greatness out of compliance."
      },
      {
        coach: "Ryan",
        company: "Rio Tinto",
        code: "RIO",
        sector: "Mining",
        img: "images/RIO.jpg",
        joke: "You‚Äôre aligned with Rio Tinto ‚Äî global, ruthless, and built to extract value. The upside: you‚Äôll mine undervalued talent and export points at scale. The downside: you‚Äôll optimise so aggressively your mates will start auditing your ethics."
      }
    ];


    // Persistence
    const KEY = "coach_stock_reveal_glass_v1";
    const getState = () => {
      try { return JSON.parse(localStorage.getItem(KEY) || "{}"); } catch { return {}; }
    };
    const setState = (obj) => localStorage.setItem(KEY, JSON.stringify(obj));

    const stack = document.getElementById("stack");
    const resetBtn = document.getElementById("resetBtn");
    const revealAllBtn = document.getElementById("revealAllBtn");

    const initials = (name) => (name||"?").split(" ").map(w=>w[0]).join("").slice(0,2).toUpperCase();

    function tileTemplate(t, revealed){
      const statusPill = revealed
        ? `<span class="pill"><i class="bi bi-check2-circle me-1"></i> Revealed</span>`
        : `<span class="pill"><i class="bi bi-hand-index-thumb me-1"></i> Tap to reveal</span>`;

      return `
        <div class="tile-inner glass">
          <!-- Underlay content (the reveal) -->
          <div class="under">
            <div class="d-flex flex-wrap align-items-center justify-content-between gap-2 mb-2">
              <div class="d-flex flex-column">
                <div class="coach-name h5 mb-1">${t.coach}</div>
                <div class="small-muted fw-semibold">${t.sector}</div>
              </div>
              <span class="pill mono">ASX: ${t.code}</span>
            </div>

            <div class="d-flex flex-column flex-md-row align-items-md-center gap-3">
              <div class="flex-grow-1">
                <div style="font-weight:900;font-size:1.05rem">${t.company}</div>
                <p class="joke mt-2">${t.joke}</p>
              </div>

              <div class="d-flex justify-content-md-end">
                <img class="logoImg" src="${t.img}" alt="${t.company} logo"
                  onerror="this.style.display='none'; this.insertAdjacentHTML('afterend',
                  '<div class=&quot;glass p-3 text-center&quot; style=&quot;border-radius:16px;border:1px dashed rgba(255,255,255,.18);background:rgba(0,0,0,.12);min-width:220px&quot;><div class=&quot;mono fw-bold&quot; style=&quot;font-size:28px&quot;>${t.code}</div><div class=&quot;small-muted fw-semibold mt-1&quot;>${t.company}</div><div class=&quot;small-muted mt-2&quot;>Missing: ${t.img}</div></div>');">
              </div>
            </div>
          </div>

          <!-- Overlay content (the ‚Äúglass cover‚Äù) -->
          <div class="overlay" role="button" aria-label="${t.coach} reveal overlay" tabindex="-1">
            <div class="overlay-content">
              <div class="min-w-0">
                <div class="coach-name h4 mb-2">${t.coach}</div>
                <div class="d-flex flex-wrap gap-2 align-items-center">
                  ${statusPill}
                  <span class="small-muted fw-semibold">${t.sector}</span>
                </div>
              </div>

              <div class="d-flex flex-column align-items-end gap-2">
                <div class="pill mono">${revealed ? t.code : initials(t.coach)}</div>
                <div class="small-muted fw-semibold">${revealed ? t.company : "Hidden"}</div>
              </div>
            </div>
          </div>
        </div>
      `;
    }

    function render(){
      const state = getState();
      stack.innerHTML = "";

      tiles.forEach((t) => {
        const revealed = !!state[t.coach];

        const btn = document.createElement("button");
        btn.type = "button";
        btn.className = "tile-btn";
        btn.setAttribute("aria-label", `${t.coach} reveal tile`);
        btn.setAttribute("aria-pressed", revealed ? "true" : "false");

        const wrap = document.createElement("div");
        wrap.className = "tile";
        if(revealed) wrap.classList.add("revealed");
        wrap.innerHTML = tileTemplate(t, revealed);

        btn.appendChild(wrap);

        const toggle = () => {
          const s = getState();
          s[t.coach] = !s[t.coach];
          setState(s);
          render();
        };

        btn.addEventListener("click", toggle);
        btn.addEventListener("keydown", (e) => {
          if(e.key === "Enter" || e.key === " "){ e.preventDefault(); toggle(); }
        });

        stack.appendChild(btn);
      });
    }

    resetBtn.addEventListener("click", () => {
      localStorage.removeItem(KEY);
      render();
    });

    revealAllBtn.addEventListener("click", () => {
      const s = {};
      tiles.forEach(t => s[t.coach] = true);
      setState(s);
      render();
    });

    render();
  </script>
</body>
</html>
